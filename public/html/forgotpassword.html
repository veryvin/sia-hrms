<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forgot Password</title>
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<div class="container">
  <div class="login-card">
    <h1 class="title">Forgot Password</h1>
    <p class="subtitle">Enter your registered email to reset your password</p>
    <form id="forgotForm" class="login-form">
      <div class="form-group">
        <label for="resetEmail">Email Address</label>
        <input type="email" id="resetEmail" required placeholder="Enter your email">
      </div>
      <button type="submit" class="btn btn-primary">Send Reset Link</button>
      <div id="errorMessage" class="error-message"></div>
    </form>
    <a href="index.html" class="forgot-password">Back to Login</a>
  </div>
</div>

<script>
const registeredEmails = [
    'earvinjohnlopez01@gmail.com',
    'delacruz.juan@rmt.com',
    'admin@rmt.com',
    'user@rmt.com'
];

const forgotForm = document.getElementById('forgotForm');
const resetEmailInput = document.getElementById('resetEmail');
const errorMessage = document.getElementById('errorMessage');

forgotForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const email = resetEmailInput.value.trim().toLowerCase();

    if (!registeredEmails.includes(email)) {
        errorMessage.textContent = '‚ùå Email not found!';
        errorMessage.style.display = 'block';
        return;
    }

    // Save email and generated code to localStorage
    localStorage.setItem('resetEmail', email);
    const verificationCode = Math.floor(100000 + Math.random() * 900000).toString();
    localStorage.setItem('verificationCode', verificationCode);
    console.log(`Verification code for ${email}: ${verificationCode}`);

    // Redirect to verification page
    window.location.href = 'verify-code.html';
});
</script>
</body>
</html>
